<!DOCTYPE html>
<html lang="es">
    <%- include( '../partials/head') %>
    
    <body>
        <%- include('../partials/header') %>
        <main class="usuarios">
            <h1 class="title">Edicion de usuario</h1>
            <div class="profile-user-edit">
                <form action="?_method=PUT" method="POST" enctype="multipart/form-data">
                <div class="im-user">
                    <div class="img-user">
                        <img src=/images/users/<%=element.image_users[0].url_name%>>                         
                    </div>
                    <div class="img-form">
                        <label for="img-default">Eliminar actual? </label>
                        <input type="checkbox" name="img-default" id="img-default">
                        <br>
                        <label for="image">Desea cambiar la img o foto de perfil?</label>
                        <input type="file" id="image" name="image">
                    </div>
                </div>
                <div class="form-izq">
                    <label for="user-name">Nombre de Usuario </label>
                    <input type="text" name="userName" id="user-name" 
                    value="<%= locals.oldData ? oldData.userName : element.userName%>" 
                    class="userName">
                    <% if (locals.errors && errors.userName) { %>
                        <div class="text-danger" style="width: 100%">
                            <%= errors.userName.msg %> 
                        </div>
                    <% } %>
                    <div class="text-danger-userName"></div>
                    
                    <label for="name">Nombre </label>
                    <input type="text" name="name" id="name" 
                    value="<%= locals.oldData ? oldData.name : element.name%>"
                    class="name">
                    <% if (locals.errors && errors.name) { %>
                        <div class="text-danger" style="width: 100%">
                            <%= errors.name.msg %> 
                        </div>
                    <% } %>
                    <div class="text-danger-name"></div>
                    
                    <label for="surname">Apellido </label>
                    <input type="text" name="surname" id="surname" 
                    value="<%=locals.oldData ? oldData.surname : element.lastName%>"
                    class="surname">
                    <% if (locals.errors && errors.surname) { %>
                        <div class="text-danger" style="width: 100%">
                            <%= errors.surname.msg %> 
                        </div>
                    <% } %>
                    <div class="text-danger-surname"></div>
                </div>
                
                <div class="form-der">
                    <label for="email"> Email </label>
                    <input type="email" name="email" id="email" 
                    value="<%=locals.oldData ? oldData.email : element.email%>"
                    class="email">
                    <% if (locals.errors && errors.email) { %>
                        <div class="text-danger" style="width: 100%">
                            <%= errors.email.msg %> 
                            <ul></ul>
                        </div>
                    <% } %>
                    <div class="text-danger-email"></div>
                    
                    <label for="dni"> DNI </label>
                    <input type="number" name="dni" id="dni" 
                    value="<%=locals.oldData ? oldData.dni : element.dni%>"
                    class="dni">
                    <% if (locals.errors && errors.dni) { %>
                        <div class="text-danger" style="width: 100%">
                            <%= errors.dni.msg %> 
                        </div>
                    <% } %>
                    <div class="text-danger-dni"></div>
                    
                    <label for="fNac">Fecha de Nacimiento</label>
                    <input type="date" name="fNac" id="fNac" 
                    value="<%=locals.oldData ? oldData.fNac : fecha%>"
                    class="fNac">
                    <% if (locals.errors && errors.fNac) { %>
                        <div class="text-danger" style="width: 100%">
                            <%= errors.fNac.msg %> 
                        </div>
                    <% } %>
                    <div class="text-danger-fNac"></div>

                    <button type="submit" class="style-button">Guardar cambios</button>
                </div>
                </form>
            </div>
        </main>
        <%- include('../partials/footer') %> 
        <script src="/js/validation-update-user.js"></script>
    </body>    
</html>